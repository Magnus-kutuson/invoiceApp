<!-- <form [formGroup]="invoiceForm" (ngSubmit)="onSubmit()">
  @if(deviceWidth<=465){
  <app-icon
    imgSrc="/assets/images/icon-arrow-left.svg"
    altText="right-arrow"
    [width]="10"
    [height]="13"
    (onClick)="handleDiscard()"
    ><app-text>Go back</app-text></app-icon
  >
  } @if(isEditingForm()){
  <app-text type="emphasis" size="2.1rem"
    >Edit
    <p>#</p>
    {{ selectedInvoice()?.id }}
  </app-text>
  }@else {
  <app-text type="emphasis" size="2.1rem">New Invoice</app-text>
  }
  <section class="sender-address">
    <app-text color="var(--primary-color)" size="1.2rem">Bill From</app-text>
    <ng-container formGroupName="senderAddress">
      <div
        class="input-field"
        [class.error]="hasError('senderAddress.street', 'required')"
      >
        <span class="labels">
          <label>Street Address</label>
          @if(hasError('senderAddress.street', 'required')){
          <app-text color="var(--error)" size="1.1rem">can't be empty</app-text>
          }
        </span>
        <input type="text" formControlName="street" />
      </div>
      <div class="address">
        <div
          class="input-field"
          [class.error]="hasError('senderAddress.city', 'required')"
        >
          <span class="labels">
            <label>City</label>
            @if(hasError('senderAddress.city', 'required')){
            <app-text color="var(--error)" size="1.1rem"
              >can't be empty</app-text
            >
            }
          </span>
          <input type="text" formControlName="city" />
        </div>
        <div
          class="input-field"
          [class.error]="hasError('senderAddress.postCode', 'required')"
        >
          <span class="labels">
            <label>Post Code</label>
            @if(hasError('senderAddress.postCode', 'required')){
            <app-text color="var(--error)" size="1.1rem"
              >can't be empty</app-text
            >
            }
          </span>
          <input type="text" formControlName="postCode" />
        </div>
        <div
          class="input-field"
          [class.error]="hasError('senderAddress.country', 'required')"
        >
          <span class="labels">
            <label>Country</label>
            @if(hasError('senderAddress.country', 'required')){
            <app-text color="var(--error)" size="1.1rem"
              >can't be empty</app-text
            >
            }
          </span>
          <input type="text" formControlName="country" />
        </div>
      </div>
    </ng-container>
  </section>

  <section class="client-address">
    <app-text color="var(--primary-color)" size="1.2rem">Bill To</app-text>
    <div>
      <div
        class="input-field"
        [class.error]="hasError('clientName', 'required')"
      >
        <span class="labels">
          <label>Client's Name</label>
          @if(hasError('clientName', 'required')){
          <app-text color="var(--error)" size="1.1rem">can't be empty</app-text>
          }
        </span>
        <input type="text" formControlName="clientName" />
      </div>
      <div
        class="input-field"
        [class.error]="hasError('clientEmail', 'required')"
      >
        <span class="labels">
          <label placeholder="e.g. email@example.com">Client's Email</label>
          @if(hasError('clientEmail', 'required')){
          <app-text color="var(--error)" size="1.1rem">can't be empty</app-text>
          }
        </span>
        <input type="text" formControlName="clientEmail" />
      </div>

      <ng-container formGroupName="clientAddress">
        <div
          class="input-field"
          [class.error]="hasError('clientAddress.street', 'required')"
        >
          <span class="labels">
            <label>Street Address</label>
            @if(hasError('clientAddress.street', 'required')){
            <app-text color="var(--error)" size="1.1rem"
              >can't be empty</app-text
            >
            }
          </span>
          <input type="text" formControlName="street" />
        </div>
      </ng-container>
    </div>

    <div class="address">
      <ng-container formGroupName="clientAddress">
        <div
          class="input-field"
          [class.error]="hasError('clientAddress.city', 'required')"
        >
          <span class="labels">
            <label>City</label>
            @if(hasError('clientAddress.city', 'required')){
            <app-text color="var(--error)" size="1.1rem"
              >can't be empty</app-text
            >
            }
          </span>
          <input type="text" formControlName="city" />
        </div>
        <div
          class="input-field"
          [class.error]="hasError('clientAddress.postCode', 'required')"
        >
          <span class="labels">
            <label>Post Code</label>
            @if(hasError('clientAddress.postCode', 'required')){
            <app-text color="var(--error)" size="1.1rem"
              >can't be empty</app-text
            >
            }
          </span>
          <input type="text" formControlName="postCode" />
        </div>
        <div
          class="input-field"
          [class.error]="hasError('clientAddress.country', 'required')"
        >
          <span class="labels">
            <label>Country</label>
            @if(hasError('clientAddress.country', 'required')){
            <app-text color="var(--error)" size="1.1rem"
              >can't be empty</app-text
            >
            }
          </span>
          <input type="text" formControlName="country" />
        </div>
      </ng-container>
    </div>

    <section class="dates">
      <div class="input-field">
        <label>Invoice Date</label>
        <input type="date" formControlName="createdAt" [disabled]="true" />
      </div>

      <div class="input-field">
        <label>Payment Terms</label>
        <div class="due-date-dropdown" (click)="toggleDropdown()">
          <div class="due-date-display">
            <span>
              <app-text type="emphasis" size="1.3rem">{{
                paymentTerms() === 1
                  ? "Next 1 day"
                  : "Next " + paymentTerms() + " days"
              }}</app-text>
              <app-icon
                imgSrc="/assets/images/icon-arrow-down.svg"
                altText="down-arrow"
                [height]="9"
                [width]="14"
                [rotate]="isOpened ? '180deg' : '0deg'"
              ></app-icon>
            </span>
          </div>

          <div
            class="due-date-options"
            [ngStyle]="{ display: isOpened ? 'flex' : 'none' }"
          >
            <label>
              <input
                type="radio"
                value="1"
                name="paymentTerms"
                formControlName="paymentTerms"
              />
              <p type="emphasis" size="1.3rem">Next 1 day</p>
            </label>
            <hr />
            <label>
              <input
                type="radio"
                value="7"
                name="paymentTerms"
                formControlName="paymentTerms"
              />
              <p type="emphasis" size="1.3rem">Next 7 days</p>
            </label>
            <hr />
            <label>
              <input
                type="radio"
                value="14"
                name="paymentTerms"
                formControlName="paymentTerms"
              />
              <p type="emphasis" size="1.3rem">Next 14 days</p>
            </label>
            <hr />
            <label>
              <input
                type="radio"
                value="30"
                name="paymentTerms"
                formControlName="paymentTerms"
              />
              <p type="emphasis" size="1.3rem">Next 30 days</p>
            </label>
          </div>
        </div>
      </div>
    </section>

    <div
      class="input-field"
      [class.error]="hasError('description', 'required')"
    >
      <span class="labels">
        <label>Project Description</label>
        @if(hasError('description', 'required')){
        <app-text color="var(--error)" size="1.1rem">can't be empty</app-text>
        }
      </span>
      <input
        type="text"
        placeholder="e.g. Graphic Design Service"
        formControlName="description"
      />
    </div>

    <div class="items">
      <app-text size="2rem" type="emphasis" color="var(--accent-1)"
        >Item List</app-text
      >
      @if(deviceWidth>465){
      <div class="grid-row">
        <app-text color="var(--tertiary-color)" size="1.1rem" class="heading"
          >Item Name</app-text
        >
        <app-text color="var(--tertiary-color)" size="1.1rem" class="heading"
          >QTY.</app-text
        >
        <app-text color="var(--tertiary-color)" size="1.1rem" class="heading"
          >Price</app-text
        >
        <app-text color="var(--tertiary-color)" size="1.1rem" class="heading"
          >Total</app-text
        >
      </div>
      }

      <ng-container formArrayName="items">
        @if(isEditingForm()){ @for(item of items.controls; track $index){
        <div class="grid-row-input" [formGroupName]="$index">
          <div class="input-field">
            <label>Item Name</label>
            <input type="text" formControlName="name" />
          </div>
          <div class="input-field">
            <label>Qty.</label>
            <input
              type="number"
              formControlName="quantity"
              min="1"
              (input)="updateTotal($index)"
            />
          </div>
          <div class="input-field">
            <label>Price</label>
            <input
              type="number"
              formControlName="price"
              min="0"
              (input)="updateTotal($index)"
            />
          </div>
          <div class="input-field">
            <label>Total</label>
            <span>
              <input id="total" type="number" formControlName="total" />
              <span
                (mouseenter)="isHovered = true"
                (mouseleave)="isHovered = false"
              >
                <app-icon
                  [imgSrc]="
                    isHovered
                      ? '/assets/images/icon-delete-hover.svg'
                      : '/assets/images/icon-delete.svg'
                  "
                  class="icon"
                  altText="trash-can"
                  [height]="14"
                  [width]="14"
                  [isInteractive]="true"
                  (onClick)="handleDeleteItem($index)"
                ></app-icon>
              </span>
            </span>
          </div>
        </div>
        } }@else { @for(item of items.controls; track $index){
        <div class="grid-row-input" [formGroupName]="$index">
          <div class="input-field">
            <label>Item Name</label>
            <input type="text" formControlName="name" />
          </div>
          <div class="input-field">
            <label>Qty.</label>
            <input
              type="number"
              formControlName="quantity"
              min="1"
              (input)="updateTotal($index)"
            />
          </div>

          <div class="input-field">
            <label>Price</label>
            <input
              type="number"
              formControlName="price"
              min="0"
              (input)="updateTotal($index)"
            />
          </div>
          <div class="input-field">
            <label>Total</label>
            <span>
              <input id="total" type="number" formControlName="total" />
              <span
                (mouseenter)="isHovered = true"
                (mouseleave)="isHovered = false"
              >
                <app-icon
                  [imgSrc]="
                    isHovered && $index
                      ? '/assets/images/icon-delete-hover.svg'
                      : '/assets/images/icon-delete.svg'
                  "
                  class="icon"
                  altText="trash-can"
                  [height]="14"
                  [width]="14"
                  [isInteractive]="true"
                  (onClick)="handleDeleteItem($index)"
                ></app-icon
              ></span>
            </span>
          </div>
        </div>
        } }
      </ng-container>

      <app-button
        type="add"
        color="var(--tertiary-color)"
        (onClick)="handleAddItem()"
        >+ Add New Item</app-button
      >
    </div>
  </section>
  @if(!invoiceForm.valid) {
  <div class="errors">
    <app-text color="var(--error)">- All fields must be added</app-text>
    @if(!invoiceForm.valid && isFormSubmitted) {
    <app-text color="var(--error)">- An item must be added</app-text>
    }
  </div>
  }
</form>

@if(isEditingForm()){
<div
  class="shade"
  [ngStyle]="{ display: isDarkMode() ? 'none' : 'block' }"
></div>
<footer class="editing-footer">
  <app-button
    (onClick)="handleDiscard()"
    type="edit"
    color="var(--tertiary-color)"
    >Cancel</app-button
  >

  <app-button (onClick)="handleSend()">Save Changes</app-button>
</footer>
}@else {
<div
  class="shade"
  [ngStyle]="{ display: isDarkMode() ? 'none' : 'block' }"
></div>
<footer>
  <app-button
    (onClick)="handleDiscard()"
    type="edit"
    color="var(--tertiary-color)"
    >Discard</app-button
  >

  <span>
    <app-button type="draft" (onClick)="handleDraft()"
      >Save as Draft</app-button
    >
    <app-button (onClick)="handleSend()">Save & Send</app-button>
  </span>
</footer>

} -->
